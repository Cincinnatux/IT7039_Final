{% extends 'base.html' %}

{% block head %}
<!--Enter your <head> code here-->
<title>Add New Entry</title>
{% endblock %} 

{% block body %}
<!--Enter your <body> code here-->
<div id="grid">
    <header class="box header">
        <h1>Add a New Entry!</h1>
    </header>
    <nav class="box mobile-nav">
        <a href="{{ url_for('home') }}">Home Page</a>
        <a href="{{ url_for('final' )}}">Enter New Bottle</a>
        <a href="{{ url_for('random_flight' )}}">Get a Random Flight</a>
        <a href="{{ url_for('analyze_inventory' )}}">Analyze Current Bottles</a>
    </nav>
    <main class="box main">
        <div>
            <button onclick="showForm('parent_company')">Add Parent Company</button>
            <button onclick="showForm('distillery')">Add Distillery</button>
            <button onclick="showForm('brand')">Add Brand</button>
            <button onclick="showForm('bottle')">Add Bottle</button>
        </div>

        <!-- Parent Company Form -->
        <div id="parent_company_form" style="display:none; margin-top:20px;">
            <h2>Add Parent Company</h2>
            <form action="{{ url_for('add_parent_company') }}" method="POST">
                <label for="parent_company_name">Parent Company Name:</label><br>
                <input type="text" id="parent_company_name" name="parent_company_name" required><br><br>

                <label for="website">Website:</label><br>
                <input type="url" id="website" name="website"><br><br>

                <label for="address_1">Address 1:</label><br>
                <input type="text" id="address_1" name="address_1"><br><br>

                <label for="address_2">Address 2:</label><br>
                <input type="text" id="address_2" name="address_2"><br><br>

                <label for="city">City:</label><br>
                <input type="text" id="city" name="city"><br><br>

                <label for="state">State:</label><br>
                <input type="text" id="state" name="state"><br><br>

                <label for="postal_code">Postal Code:</label><br>
                <input type="text" id="postal_code" name="postal_code"><br><br>

                <label for="country">Country:</label><br>
                <input type="text" id="country" name="country"><br><br>

                <input type="submit" value="Add Parent Company">
            </form>
        </div>

        <!-- Distillery Form -->
        <div id="distillery_form" style="display:none; margin-top:20px;">
            <h2>Add Distillery</h2>
            <form action="{{ url_for('add_distillery') }}" method="POST">
                <label for="dsp">DSP (Distillery Code):</label><br>
                <input type="text" id="dsp" name="dsp" required><br><br>

                <label for="distillery_name">Distillery Name:</label><br>
                <input type="text" id="distillery_name" name="distillery_name" required><br><br>

                <label for="parent_company_id">Parent Company:</label><br>
                <select id="parent_company_id" name="parent_company_id" required>
                    {% for company in parent_companies %}
                        <option value="{{ company.parent_company_id }}">{{ company.parent_company_name }}</option>
                    {% endfor %}
                </select><br><br>

                <label for="website">Website:</label><br>
                <input type="url" id="website" name="website"><br><br>

                <label for="address_1">Address 1:</label><br>
                <input type="text" id="address_1" name="address_1"><br><br>

                <label for="address_2">Address 2:</label><br>
                <input type="text" id="address_2" name="address_2"><br><br>

                <label for="city">City:</label><br>
                <input type="text" id="city" name="city"><br><br>

                <label for="state">State:</label><br>
                <input type="text" id="state" name="state"><br><br>

                <label for="postal_code">Postal Code:</label><br>
                <input type="text" id="postal_code" name="postal_code"><br><br>

                <label for="country">Country:</label><br>
                <input type="text" id="country" name="country"><br><br>

                <input type="submit" value="Add Distillery">
            </form>
        </div>

        <!-- Brand Form -->
        <div id="brand_form" style="display:none; margin-top:20px;">
            <h2>Add Brand</h2>
            <form action="{{ url_for('add_brand') }}" method="POST">
                <label for="brand_name">Brand Name:</label><br>
                <input type="text" id="brand_name" name="brand_name" required><br><br>

                <label for="category">Category:</label><br>
                <input type="text" id="category" name="category"><br><br>

                <label for="distillery_id">Distillery:</label><br>
                <select id="distillery_id" name="distillery_id" required>
                    {% for distillery in distilleries %}
                        <option value="{{ distillery.dsp }}">{{ distillery.distillery_name }}</option>
                    {% endfor %}
                </select><br><br>

                <input type="submit" value="Add Brand">
            </form>
        </div>

        <!-- Bottle Form -->
        <div id="bottle_form" style="display:none; margin-top:20px;">
            <h2>Add Bottle</h2>
            <form action="{{ url_for('add_bottle') }}" method="POST">
                <label for="brand_id">Brand:</label><br>
                <select id="brand_id" name="brand_id" required>
                    {% for brand in brands %}
                        <option value="{{ brand.brand_id }}">{{ brand.brand_name }}</option>
                    {% endfor %}
                </select><br><br>

                <label for="expression">Expression:</label><br>
                <input type="text" id="expression" name="expression"><br><br>

                <label for="volume_ml">Volume (ml):</label><br>
                <input type="number" id="volume_ml" name="volume_ml"><br><br>

                <label for="proof">Proof:</label><br>
                <input type="number" step="0.1" id="proof" name="proof"><br><br>

                <label for="stated_age">Stated Age:</label><br>
                <input type="number" step="0.1" id="stated_age" name="stated_age"><br><br>

                <label for="estimated_age">Estimated Age:</label><br>
                <input type="number" step="0.1" id="estimated_age" name="estimated_age"><br><br>

                <label for="primary_grain">Primary Grain:</label><br>
                <input type="text" id="primary_grain" name="primary_grain"><br><br>

                <label for="primary_grain_percentage">Primary Grain Percentage:</label><br>
                <input type="number" step="0.1" id="primary_grain_percentage" name="primary_grain_percentage"><br><br>

                <label for="secondary_grain">Secondary Grain:</label><br>
                <input type="text" id="secondary_grain" name="secondary_grain"><br><br>

                <label for="secondary_grain_percentage">Secondary Grain Percentage:</label><br>
                <input type="number" step="0.1" id="secondary_grain_percentage" name="secondary_grain_percentage"><br><br>

                <label for="tertiary_grain">Tertiary Grain:</label><br>
                <input type="text" id="tertiary_grain" name="tertiary_grain"><br><br>

                <label for="tertiary_grain_percentage">Tertiary Grain Percentage:</label><br>
                <input type="number" step="0.1" id="tertiary_grain_percentage" name="tertiary_grain_percentage"><br><br>

                <label for="quaternary_grain">Quaternary Grain:</label><br>
                <input type="text" id="quaternary_grain" name="quaternary_grain"><br><br>

                <label for="quaternary_grain_percentage">Quaternary Grain Percentage:</label><br>
                <input type="number" step="0.1" id="quaternary_grain_percentage" name="quaternary_grain_percentage"><br><br>

                <label for="source">Source:</label><br>
                <input type="text" id="source" name="source"><br><br>

                <label for="price_paid">Price Paid:</label><br>
                <input type="number" step="0.01" id="price_paid" name="price_paid"><br><br>

                <label for="srp">SRP:</label><br>
                <input type="number" step="0.01" id="srp" name="srp"><br><br>

                <label for="date_purchased">Date Purchased:</label><br>
                <input type="date" id="date_purchased" name="date_purchased"><br><br>

                <label for="date_distilled">Date Distilled:</label><br>
                <input type="date" id="date_distilled" name="date_distilled"><br><br>

                <label for="date_bottled">Date Bottled:</label><br>
                <input type="date" id="date_bottled" name="date_bottled"><br><br>

                <label for="date_opened">Date Opened:</label><br>
                <input type="date" id="date_opened" name="date_opened"><br><br>

                <label for="date_emptied">Date Emptied:</label><br>
                <input type="date" id="date_emptied" name="date_emptied"><br><br>

                <label for="single_barrel">Single Barrel:</label>
                <input type="checkbox" id="single_barrel" name="single_barrel"><br><br>

                <label for="chill_filtered">Chill Filtered:</label>
                <input type="checkbox" id="chill_filtered" name="chill_filtered"><br><br>

                <label for="bottled_in_bond">Bottled in Bond:</label>
                <input type="checkbox" id="bottled_in_bond" name="bottled_in_bond"><br><br>

                <label for="peated">Peated:</label>
                <input type="checkbox" id="peated" name="peated"><br><br>

                <label for="finished">Finished:</label>
                <input type="checkbox" id="finished" name="finished"><br><br>

                <label for="notes">Notes:</label><br>
                <textarea id="notes" name="notes" rows="4" cols="50"></textarea><br><br>

                <input type="submit" value="Add Bottle">
            </form>
        </div>
    </main>
    <nav class="box desktop-nav">
        <a href="{{ url_for('home') }}">Home Page&nbsp;&nbsp;&nbsp;&nbsp;</a>
        <a href="{{ url_for('final' )}}">Enter New Bottle&nbsp;&nbsp;&nbsp;&nbsp;</a>
        <a href="{{ url_for('random_flight' )}}">Get a Random Flight&nbsp;&nbsp;&nbsp;&nbsp;</a>
        <a href="{{ url_for('analyze_inventory' )}}">Analyze Current Bottles&nbsp;&nbsp;&nbsp;&nbsp;</a>
    </nav>
    <aside class="box aside"></aside>
    <footer class="box footer"></footer>
</div>

<!-- JavaScript to Show/Hide Forms Based on Selection -->
<script>
    function showForm(formId) {
        // Hide all forms
        document.getElementById('parent_company_form').style.display = 'none';
        document.getElementById('distillery_form').style.display = 'none';
        document.getElementById('brand_form').style.display = 'none';
        document.getElementById('bottle_form').style.display = 'none';
        
        // Show the selected form
        document.getElementById(formId + '_form').style.display = 'block';
    }
</script>
{% endblock %} 